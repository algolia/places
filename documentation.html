<!doctype html> <html> <head> <meta content="IE=edge" http-equiv=X-UA-Compatible> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name=viewport> <!--[if IE]><link rel="shortcut icon" href="images/favicon-4989dd00.png"><![endif]--> <link rel=icon href="images/favicon-4989dd00.png"> <meta content="IE=edge,chrome=1" http-equiv=X-UA-Compatible> <meta content=summary_large_image name='twitter:card'> <meta content='Algolia Places' name='twitter:site'> <meta content='@Algolia' name='twitter:creator'> <meta content="Autocompletion within search is essential for user experience and address search functionality. Learn how Algolia Places increases both with speed and ease." name="twitter:description"> <meta content="https://res.cloudinary.com/hilnmyskv/image/upload/v1466000434/places-og-image_jp9phw.png" name="twitter:image"> <meta content='https://community.algolia.com/places/' property='og:url'> <meta content='Algolia Places' property='og:title'> <meta content='https://res.cloudinary.com/hilnmyskv/image/upload/v1466000434/places-og-image_jp9phw.png' property='og:image'> <meta content='Autocompletion within search is essential for user experience and address search functionality. Learn how Algolia Places increases both with speed and ease.' property='og:description'> <meta content='Algolia Places' property='og:site_name'> <title>Algolia Places | Documentation</title> <link rel=stylesheet href="https://cdn.jsdelivr.net/hint.css/2/hint.min.css"/> <link rel=stylesheet media=screen href="//fonts.googleapis.com/css?family=Raleway:300,800"> <link href="stylesheets/site-b3fc0d41.css" rel=stylesheet /> <script src="https://cdn.jsdelivr.net/npm/places.js@1.19.0"></script> <script>
      var currentPath = 'documentation.html';
      var clippyPath = 'images/clippy-386f5330.svg';
    </script> </head> <body class=documentation> <div class=ac-nav> <div class=ac-nav-container> <div class=ac-announcement> <a href='https://www.algolia.com/blog/sunsetting-our-places-feature/' title='Places is going away on May 31st 2022. Read our announcement.'>Places is going away on May 31st 2022. Read our announcement.</a> </div> </div> <div class=ac-nav-container> <div class=ac-nav-brand> <a class=ac-logo href='https://community.algolia.com/' title='Algolia Community'> <img alt='Algolia Community' class='ac-logo__lg nav-icon' src='https://res.cloudinary.com/hilnmyskv/image/upload/v1484217596/algolia-community-logo-darkbg.svg' width=150> <img alt='Algolia Community' class='ac-logo__sm community-badge' src='images/svg/logo-community-fcccfd2c.svg'> </a> <span class=ac-nav-brand-breadcrumb></span> <a class=ac-nav-brand-title data-path='index.html' href='./' title=Home>Places</a> </div> <div class=ac-nav-menu> <div class=ac-nav-searchbox> <form class=searchbox id=docsearch-form novalidate=novalidate onsubmit='return false;' style='visibility:hidden;height:0'> <div class=searchbox__wrapper role=search> <input autocomplete=off class=searchbox__input id=docsearch name=search placeholder='Search in the doc' required=required type=search> <button class=searchbox__submit title='Submit your search query.' type=submit> <svg aria-label=Search role=img> <use xlink:href='#sbx-icon-search-13' xmlns:xlink='http://www.w3.org/1999/xlink'></use> </svg> </button> <button class='searchbox__reset hide' title='Clear the search query.' type=reset> <svg aria-label=Reset role=img> <use xlink:href='#sbx-icon-clear-3' xmlns:xlink='http://www.w3.org/1999/xlink'></use> </svg> </button> </input> </div> </form> <div class=svg-icons style='height: 0; width: 0; position: absolute; visibility: hidden'> <svg xmlns='http://www.w3.org/2000/svg'> <symbol id=sbx-icon-clear-3 viewBox="0 0 40 40"><path d="M16.228 20L1.886 5.657 0 3.772 3.772 0l1.885 1.886L20 16.228 34.343 1.886 36.228 0 40 3.772l-1.886 1.885L23.772 20l14.342 14.343L40 36.228 36.228 40l-1.885-1.886L20 23.772 5.657 38.114 3.772 40 0 36.228l1.886-1.885L16.228 20z" fill-rule=evenodd /></symbol> <symbol id=sbx-icon-search-13 viewBox="0 0 12 12"><path d="M12 11.077c0-.245-.1-.483-.267-.65L9.26 7.955c.584-.843.894-1.853.894-2.877C10.154 2.272 7.882 0 5.077 0S0 2.272 0 5.077s2.272 5.077 5.077 5.077c1.024 0 2.034-.31 2.877-.894l2.474 2.466c.166.173.404.274.65.274.504 0 .922-.418.922-.923zm-3.692-6c0 1.78-1.45 3.23-3.23 3.23-1.782 0-3.232-1.45-3.232-3.23s1.45-3.23 3.23-3.23c1.782 0 3.232 1.45 3.232 3.23z" fill="#FFF" fill-rule=evenodd opacity="0.85"/></symbol> </svg> </div> </div> <ul class=ac-nav-menu-list> <li class='ac-nav-menu-list-item active'> <a data-path='documentation.html' href='documentation.html' title=Documentation>Documentation</a> </li> <li class=ac-nav-menu-list-item> <a data-path='api-clients.html' href='api-clients.html' title='API Clients'>API Clients</a> </li> <li class=ac-nav-menu-list-item> <a data-path='examples.html' href='examples.html' title=Examples>Examples</a> </li> <li class=ac-nav-menu-list-item> <a data-path='pricing.html' href='pricing.html' title=Pricing>Pricing</a> </li> <li class=ac-nav-menu-list-item> <a data-path='status.html' href='status.html' title=Status>Status</a> </li> <li class=ac-nav-menu-list-item> <a data-path='support.html' href='support.html' title=Support>Support</a> </li> <li class=ac-nav-menu-list-item> <a data-path='https://www.algolia.com/contactus/' href='https://www.algolia.com/contactus/' title=Contact>Contact</a> </li> <li class=ac-nav-menu-list-icon> <a class=ac-icon href='https://github.com/algolia/places' title='GitHub repository'> <span class='ac-icon ac-icon-github'></span> </a> </li> </ul> </div> </div> </div> <section class='hero-section shrink'> <div class=container> <div class=hero-container> <div class=fl-left> <a href='https://www.algolia.com/?utm_medium=social-owned&amp;utm_source=places%20website&amp;utm_campaign=homepage' title='Algolia built this'> <span class='icon icon-algolia-small no-mobile' id=icon-algolia></span> </a> <span class='display-on-small small-illustration'> <img src='images/svg/places-illustration-65745839.svg'> </span> <h1>Documentation</h1> </div> </div> </div> <div class=relative> <div id=json-response> <div id=json-response-text></div> <div id=json-response-timing></div> </div> </div> </section> <section class=documentation-section> <div class=container> <nav class=sidebar id=sidebar></nav> <div class=documentation-container> <h2 id=places-sunset>Places Sunset</h2> <p>Algolia Places is being sunset on May 31st, 2022. We invite you to read <a href="https://www.algolia.com/blog/sunsetting-our-places-feature/">our announcement</a> and consider alternatives.</p> <p><strong>Important</strong>: Sign-ups have been disabled.</p> <h2 id=what-is-places>What is Places?</h2> <p>Algolia Places is a geocoder providing a fast, distributed and easy way to use an address search autocomplete on your website. It is available as a Javascript autocomplete library, as a REST API and inside the JS, PHP, Swift and Android Algolia API clients.</p> <p><strong>Important:</strong> Algolia Places relies on OpenStreetMap data. Due to the sparseness of house level data in OSM, Places supports geocoding only up to the street level - house level precision is not guaranteed.</p> <h2 id=getting-started>Getting started</h2> <p>To use Algolia Places, all you need is an <code>&lt;input&gt;</code> and some JavaScript code that will load<br/> and use the places.js library.</p> <h3 id=cdn-script>CDN <code>&lt;script&gt;</code></h3> <p>Our JavaScript library is available on the <a href="http://www.jsdelivr.com">jsDelivr CDN</a>.</p> <div class=highlight><pre class="codehilite html"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/npm/places.js@1.19.0"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></td></tr></tbody></table></code></pre></div> <p>Here's a small example using it:</p> <div class=highlight><pre class="codehilite html"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class=rouge-code><pre><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"search"</span> <span class="na">id=</span><span class="s">"address-input"</span> <span class="na">placeholder=</span><span class="s">"Where are we going?"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/npm/places.js@1.19.0"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="kd">var</span> <span class="nx">placesAutocomplete</span> <span class="o">=</span> <span class="nx">places</span><span class="p">({</span>
    <span class="na">appId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">YOUR_PLACES_APP_ID</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">apiKey</span><span class="p">:</span> <span class="dl">'</span><span class="s1">YOUR_PLACES_API_KEY</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">container</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#address-input</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</pre></td></tr></tbody></table></code></pre></div> <p><strong>Note:</strong> You can access your Places credentials from the <a href="https://www.algolia.com/api-keys">dashboard</a> like any other Algolia application.</p> <p><strong>Important:</strong> We recommend using jsDelivr only for prototyping, <strong>not for production applications</strong>. Whenever possible, you should host your assets yourself or use a premium CDN service. jsDelivr is a free service and isn’t operated by Algolia, so we won’t be able to provide support if it fails.</p> <h3 id=using-npm>Using npm</h3> <p>Algolia Places is also available on <a href="https://www.npmjs.com/package/places.js">npm</a>.</p> <p>Install the module:</p> <div class=highlight><pre class="codehilite shell"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre>npm <span class="nb">install </span>places.js <span class="nt">--save</span>
</pre></td></tr></tbody></table></code></pre></div> <p>Put an <code>&lt;input&gt;</code> in your html page:</p> <div class=highlight><pre class="codehilite html"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"search"</span> <span class="na">id=</span><span class="s">"address-input"</span> <span class="na">placeholder=</span><span class="s">"Where are we going?"</span> <span class="nt">/&gt;</span>
</pre></td></tr></tbody></table></code></pre></div> <p>Initialize the places.js library:</p> <div class=highlight><pre class="codehilite javascript"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class=rouge-code><pre><span class="kd">var</span> <span class="nx">places</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">places.js</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">placesAutocomplete</span> <span class="o">=</span> <span class="nx">places</span><span class="p">({</span>
  <span class="na">appId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">YOUR_PLACES_APP_ID</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="dl">'</span><span class="s1">YOUR_PLACES_API_KEY</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">container</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#address-input</span><span class="dl">'</span><span class="p">)</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></pre></div> <h3 id=demo>Demo</h3> <p>As a result, you will get the Algolia Places autocompletion menu:</p> <p><input type=search id=docs-getting-started-demo class=form-control placeholder="Where are we going?"/></p> <script src="https://cdn.jsdelivr.net/npm/places.js@1.19.0"></script> <script>
(function() {
  var placesAutocomplete = places({
    appId: 'plFMJJT5O9PC',
    apiKey: '8b126ce956636c64b6e74c8b3f3d0e5e',
    container: document.querySelector('#docs-getting-started-demo')
  });
})();
</script> <h2 id=usage>Usage</h2> <p>To turn any HTML <code>&lt;input /&gt;</code> into an address search bar make sure you include the <code>places.js</code> library and use the following initialization code:</p> <div class=highlight><pre class="codehilite javascript"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class=rouge-code><pre><span class="kd">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">appId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">YOUR_PLACES_APP_ID</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="dl">'</span><span class="s1">YOUR_PLACES_API_KEY</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">container</span><span class="p">:</span> <span class="dl">'</span><span class="s1">#my-input-DOM-selector</span><span class="dl">'</span><span class="p">,</span>
  <span class="c1">// ...</span>
<span class="p">};</span>
<span class="nx">places</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div> <p>Advanced example using all parameters:</p> <div class=highlight><pre class="codehilite javascript"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class=rouge-code><pre><span class="kd">const</span> <span class="nx">fixedOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">appId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">YOUR_PLACES_APP_ID</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="dl">'</span><span class="s1">YOUR_PLACES_API_KEY</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">container</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#demo</span><span class="dl">'</span><span class="p">),</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">reconfigurableOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">language</span><span class="p">:</span> <span class="dl">'</span><span class="s1">de</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// Receives results in German</span>
  <span class="na">countries</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">us</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">ru</span><span class="dl">'</span><span class="p">],</span> <span class="c1">// Search in the United States of America and in the Russian Federation</span>
  <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">city</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// Search only for cities names</span>
  <span class="na">aroundLatLngViaIP</span><span class="p">:</span> <span class="kc">false</span> <span class="c1">// disable the extra search/boost around the source IP</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">placesInstance</span> <span class="o">=</span> <span class="nx">places</span><span class="p">(</span><span class="nx">fixedOptions</span><span class="p">).</span><span class="nx">configure</span><span class="p">(</span><span class="nx">reconfigurableOptions</span><span class="p">);</span>

<span class="c1">// dynamically reconfigure options</span>
<span class="nx">placesInstance</span><span class="p">.</span><span class="nx">configure</span><span class="p">({</span>
  <span class="na">countries</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">us</span><span class="dl">'</span><span class="p">]</span> <span class="c1">// only search in the United States, the rest of the settings are unchanged: we're still searching for cities in German.</span>
<span class="p">})</span>
</pre></td></tr></tbody></table></code></pre></div> <p>Tip: <em>Places application IDs <strong>always</strong> start by</em> <code>pl</code>, <em>which makes them recognizable at a glance.</em></p> <h3 id=options>Options</h3> <p>Here are the options you can pass to the <code>places(options)</code> function:</p> <h5 id=static-options>Static options</h5> <p>These options can only be set during the instantiation of the places application using</p> <div class=highlight><pre class="codehilite javascript"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre><span class="kd">const</span> <span class="nx">placesInstance</span> <span class="o">=</span> <span class="nx">places</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div> <table class=api> <thead><tr> <th>Static Option</th> <th>Description</th> </tr></thead> <tbody> <tr> <td> <div class=api-entry id=api-options-container><code>container<span class=link>*</span></code></div> <p>Type: <strong><a href="https://www.w3.org/2003/01/dom2-javadoc/org/w3c/dom/html2/HTMLInputElement.html">HTMLInputElement</a></strong></p> <p><span class=link>*</span> Required</p> </td> <td> <p>Determines the <code>&lt;input&gt;</code> that will be used for the Algolia Places autocompletion menu.</p> <p>You just need to pass a reference to an Element. Obtained via <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector">document.querySelector</a> for example.</p> <p><strong>Important</strong>: This parameter can only be set at instantiation.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-appId><code>appId</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>The Places application ID to use.</p> <p><strong>Important</strong>: This parameter can only be set at instantiation.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-apiKey><code>apiKey</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>The Places search API key to use.</p> <p><strong>Important</strong>: This parameter can only be set at instantiation.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-templates><code>templates</code></div> <p>Type: <strong>Object</strong></p> </td> <td> <p>Change the templates used in place.js.</p> <p>Available templates:</p> <ul> <li>value</li> <li>suggestion</li> </ul> <p>Each template is a function that will receive a <a href="#suggestions">suggestion object</a> and must return a <code>string</code>.</p> <p><code>value</code> must return a plain string as it's used to fill the <code>input.value</code>. <code>suggestion</code> should return an HTML string to be displayed in the dropdown.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-style><code>style</code></div> <p>Type: <strong>boolean</strong></p> </td> <td> <p>Control whether the default styles should be used.</p> <p><strong>Default</strong>: Styles are enabled.</p> <p><strong>Important</strong>: This parameter can only be set at instantiation.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-appId><code>accessibility</code></div> <p>Type: <strong>Object</strong></p> </td> <td> <p>an object containing a <code>pinButton</code> and/or <code>clearButton</code> object which is composed of html attributes to apply to the corresponding button</p> <p><strong>Example</strong>:</p> <div class=highlight><pre class="codehilite plaintext"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class=rouge-code><pre>accessibility: {
  pinButton: {
    'aria-label': 'use browser geolocation',
    'tab-index': 12,
  },
  clearButton: {
    'tab-index': 13,
  }
}
</pre></td></tr></tbody></table></code></pre></div> <p><strong>Important</strong>: This parameter can only be set at instantiation.</p> </td> </tr> </tbody> </table> <h5 id=reconfigurable-options>Reconfigurable options</h5> <p>These options can be set during the instantiation of the places application using</p> <div class=highlight><pre class="codehilite javascript"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre><span class="kd">const</span> <span class="nx">placesInstance</span> <span class="o">=</span> <span class="nx">places</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div> <p>or at any time using</p> <div class=highlight><pre class="codehilite javascript"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre><span class="nx">placesInstance</span><span class="p">.</span><span class="nx">configure</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div> <table class=api> <thead><tr> <th>Reconfigurable option</th> <th>Description</th> </tr></thead> <tbody> <tr> <td> <div class=api-entry id=api-options-type><code>type</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>Restrict the search results to a specific type.</p> <p>Available types:</p> <ul> <li>city</li> <li>country</li> <li>address</li> <li>busStop</li> <li>trainStation</li> <li>townhall</li> <li>airport</li> </ul> <p><strong>Default</strong>: Search in all types.</p> <p><strong>Note</strong>: If you restrict the search to <code>city</code> or <code>airport</code>, you probably want to disable the <code>aroundLatLngViaIP</code> option as well. This will make sure you don't get only nearby results.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-postcode-search><code>postcodeSearch</code></div> <p>Type: <strong>boolean</strong></p> </td> <td> <p>Only search in the postcode field.</p> <p><strong>Default</strong>: false.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-language><code>language</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>Change the default language of the results. You can pass two letters language codes (<a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1</a>).</p> <p><strong>Default</strong>: Current user language obtained via <code>navigator.language</code> in the two letter form. Example: <code>en</code> when navigator.language is <code>en_US</code>.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-countries><code>countries</code></div> <p>Type: <strong>string[]</strong></p> </td> <td> <p>Change the countries to search in. You must pass an array of two letters country codes (<a href="https://en.wikipedia.org/wiki/ISO_3166-1#Officially_assigned_code_elements">ISO 639-1</a>).</p> <p><strong>Default</strong>: Search on the whole planet.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-aroundLatLng><code>aroundLatLng</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>Force to <em>first</em> search around a specific latitude longitude. The option value must be provided as a string: <code>latitude,longitude</code> like <code>12.232,23.1</code>.</p> <p>The default is to search around the location of the user determined via his IP address (geoip).</p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-aroundLatLngViaIP><code>aroundLatLngViaIP</code></div> <p>Type: <strong>boolean</strong></p> </td> <td> <p>Whether or not to <em>first</em> search around the geolocation of the user found via his IP address. This is <code>true</code> by default.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-aroundRadius><code>aroundRadius</code></div> <p>Type: <strong>number</strong></p> </td> <td> <p>Radius in meters to search around the latitude longitude. Otherwise a default radius is automatically computed given the area density.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-insideBoundingBox><code>insideBoundingBox</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>Filters the results inside the area defined by the two extreme points of a rectangle. <a href="https://www.algolia.com/doc/guides/managing-results/refine-results/geolocation/#filter-inside-rectanglepolygonal-area">See guide</a> or <a href="https://www.algolia.com/doc/api-reference/api-parameters/insideBoundingBox/">API reference</a>.</p> <p>Format: <code>topRightLat, topRightLng, bottomLeftLat, bottomLeftLng</code></p> <p>Example: <code>"60, 16, 40, -4"</code></p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-insidePolygon><code>insidePolygon</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>Filters the results inside the area defined by a shape. <a href="https://www.algolia.com/doc/guides/managing-results/refine-results/geolocation/#filter-inside-rectanglepolygonal-area">See guide</a> or <a href="https://www.algolia.com/doc/api-reference/api-parameters/insidePolygon/">API reference</a>.</p> <p>Format: <code>p1Lat, p1Lng, p2Lat, p2Lng, p3Lat, p3Lng...</code></p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-getRankingInfo><code>getRankingInfo</code></div> <p>Type: <strong>boolean</strong></p> </td> <td> <p>Controls whether the <a href="https://www.algolia.com/doc/api-reference/api-methods/search/#method-response-_rankinginfo">_rankingInfo</a> object should be included in the hits. This defaults to <code>false</code>.</p> <p>The _rankingInfo object for a Places query is slightly different from a regular Algolia query and you can read up more about the difference and how to leverage them in <a href="examples.html#using-_rankinginfo">our guide</a>.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-useDeviceLocation><code>useDeviceLocation</code></div> <p>Type: <strong>boolean</strong></p> </td> <td> <p>Ask and use the device location.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-computeQueryParams><code>computeQueryParams</code></div> <p>Type: <strong>object</strong></p> </td> <td> <p>Allows you to override computed query parameters sent to the <a href="rest.html">Algolia Places REST API</a>.</p> </td> </tr> </tbody> </table> <h5 id=advanced-static-options>Advanced static options</h5> <p>These are very advanced options that can be only set during the instantiation of the places application using</p> <div class=highlight><pre class="codehilite javascript"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre><span class="kd">const</span> <span class="nx">placesInstance</span> <span class="o">=</span> <span class="nx">places</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div> <p>These options should not be considered for regular use cases.</p> <table class=api> <thead><tr> <th>Advanced static option</th> <th>Description</th> </tr></thead> <tbody> <tr> <td> <div class=api-entry id=api-options-clientOptions><code>clientOptions</code></div> <p>Type: <strong>object</strong></p> </td> <td> <p>Algolia <a href="https://github.com/algolia/algoliasearch-client-js#client-options">JavaScript API client options</a>.</p> <p><strong>Note:</strong> This is an advanced option.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-options-autocompleteOptions><code>autocompleteOptions</code></div> <p>Type: <strong>object</strong></p> </td> <td> <p><a href="https://github.com/algolia/autocomplete.js#options">autocomplete.js options</a> to configure the underlying autocomplete.js instance.</p> <p><strong>Note:</strong> This is an advanced option.</p> </td> </tr> </tbody> </table> <h3 id=events>Events</h3> <p>The Algolia Places autocomplete exposes some events that you can register to:</p> <div class=highlight><pre class="codehilite javascript"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class=rouge-code><pre><span class="kd">var</span> <span class="nx">placesAutocomplete</span> <span class="o">=</span> <span class="nx">places</span><span class="p">({</span>
  <span class="na">appId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">YOUR_PLACES_APP_ID</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="dl">'</span><span class="s1">YOUR_PLACES_API_KEY</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">container</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#demo</span><span class="dl">'</span><span class="p">)</span>
<span class="p">});</span>

<span class="nx">placesAutocomplete</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">change</span><span class="dl">'</span><span class="p">,</span> <span class="nx">e</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">suggestion</span><span class="p">));</span>
</pre></td></tr></tbody></table></code></pre></div> <table class=api> <thead><tr> <th>Event</th> <th>Description</th> </tr></thead> <tbody> <tr> <td> <div class=api-entry id=api-events-change><code>change</code></div> <p>Event data:</p> <ul> <li><em>query</em> <br/>Type: <strong>string</strong></li> <li><em>rawAnswer</em> <br/>Type: <strong>object</strong></li> <li><em>suggestion</em> <br/>Type: <strong><a href="#suggestions">suggestion</a></strong></li> <li><em>suggestionIndex</em> <br/>Type: <strong>number</strong></li> </ul> </td> <td> <p>Fired when suggestion selected in the dropdown or hint was validated.</p> <p>You can use this event to then populate another form, <a href="examples.html#complete-form">see the example</a>.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-events-suggestions><code>suggestions</code></div> <p>Event data:</p> <ul> <li><em>rawAnswer</em> <br/>Type: <strong>object</strong></li> <li><em>query</em> <br/>Type: <strong>string</strong></li> <li><em>suggestions</em> <br/>Type: <strong>Array&lt;<a href="#suggestions">suggestion</a>&gt;</strong></li> </ul> </td> <td> <p>Fired when dropdown receives suggestions. You will receive the array of suggestions that are displayed.</p> <p>You will also receive this event when no places were found.</p> <p>You can use this event to display the suggestions on a map, see the <a href="examples.html#link-to-a-map">map example</a>.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-events-cursorchanged><code>cursorchanged</code></div> <p>Event data:</p> <ul> <li><em>rawAnswer</em> <br/>Type: <strong>object</strong></li> <li><em>query</em> <br/>Type: <strong>string</strong></li> <li><em>suggestion</em> <br/>Type: <strong><a href="#suggestions">suggestion</a></strong></li> <li><em>suggestionIndex</em> <br/>Type: <strong>number</strong></li> </ul> </td> <td> <p>Fired when arrows keys are used to navigate suggestions.</p> <p>You can use this event to highlight markers on a map, see the <a href="examples.html#link-to-a-map">map example</a>.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-events-clear><code>clear</code></div> <p>Event data: <code>undefined</code></p> </td> <td> <p>Fired when the input is cleared. This event doesn't return anything, as the value of the query is then <code>''</code> and no suggestion is displayed nor selected.</p> <p>You can use this event when used with a map to reset the pins and the default center. See this behaviour live on the <a href="examples.html#link-to-a-map">map example</a>.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-events-locate><code>locate</code></div> <p>Event data: <code>undefined</code></p> </td> <td> <p>Fired when the location pin is clicked. This event doesn't return anything.</p> <p>You can use this event when the user has chosen to enable geolcation in the browser by clicking on the pin icon.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-events-limit><code>limit</code></div> <p>Event data:</p> <ul> <li><em>message</em> <br/>Type: <strong>string</strong></li> </ul> </td> <td> <p>Fired when you reached your current <a href="pricing.html#rate-limits">rate limit</a>.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-events-error><code>error</code></div> <p>Event data:</p> <ul> <li><em>message</em> <br/>Type: <strong>string</strong></li> </ul> </td> <td> <p>Fired when we could not make the request to Algolia Places servers for any reason but reaching your <a href="pricing.html#rate-limits">rate limit</a>.</p> </td> </tr> </tbody> </table> <h3 id=methods>Methods</h3> <p>We provide some methods to help you interact with the places.js autocomplete instance.<br/> If you have a good use case for a new method, <a href="https://github.com/algolia/places/issues/new">open a new issue</a> about it.</p> <table class=api> <thead><tr> <th>Name</th> <th>Description</th> </tr></thead> <tbody> <tr> <td> <div class=api-entry id=api-methods-open><code>open</code></div> <p>Returns: <strong>undefined</strong></p> </td> <td> <p>Usage: <strong>placesAutocomplete.open()</strong></p> <p>Opens the dropdown menu. The menu will be visible if it has content to show.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-methods-close><code>close</code></div> <p>Returns: <strong>undefined</strong></p> </td> <td> <p>Usage: <strong>placesAutocomplete.close()</strong></p> <p>Closes the dropdown menu.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-methods-getVal><code>getVal</code></div> <p>Returns: <strong>string</strong></p> </td> <td> <p>Usage: <strong>placesAutocomplete.getVal()</strong></p> <p>Get the current input value.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-methods-setVal><code>setVal</code></div> <p>Returns: <strong>undefined</strong></p> </td> <td> <p>Usage: <strong>placesAutocomplete.setVal()</strong></p> <p>Set the current input value. This will not open the menu. You will need to call <a href="#api-methods-open">.open()</a></p> </td> </tr> <tr> <td> <div class=api-entry id=api-methods-destroy><code>destroy</code></div> <p>Returns: <strong>undefined</strong></p> </td> <td> <p>Usage: <strong>placesAutocomplete.destroy()</strong></p> <p>Removes the places autocomplete instance, switch the input back to it's original behavior.</p> </td> </tr> </tbody> </table> <h3 id=suggestions>Suggestions</h3> <p>All of the events will send suggestion objects with those properties:</p> <table class=api> <thead><tr> <th>Property</th> <th>Description</th> </tr></thead> <tbody> <tr> <td> <div class=api-entry id=api-suggestion-type><code>type</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>Type of the current suggestion, possible values: <code>country</code>, <code>city</code>, <code>address</code>, <code>busStop</code>, <code>trainStation</code>, <code>townhall</code>, <code>airport</code>.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-suggestion-name><code>name</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>Display name of the place found.</p> <p>Examples:</p> <ul> <li>Paris</li> <li>589 Howard Street San Francisco</li> </ul> </td> </tr> <tr> <td> <div class=api-entry id=api-suggestion-city><code>city</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>City name.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-suggestion-country><code>country</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>Country name.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-suggestion-countryCode><code>countryCode</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>Two letters country code (<a href="https://en.wikipedia.org/wiki/ISO_3166-1#Officially_assigned_code_elements">ISO 639-1</a>).</p> </td> </tr> <tr> <td> <div class=api-entry id=api-suggestion-administrative><code>administrative</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>Administrative region depending on the country.</p> <p>Examples:</p> <ul> <li>Pays de la Loire</li> <li>Texas</li> <li>Catalunya</li> </ul> </td> </tr> <tr> <td> <div class=api-entry id=api-suggestion-county><code>county</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>County level administrative region depending on the country.</p> <p>Examples:</p> <ul> <li>Corrèze</li> <li>Clark County</li> </ul> </td> </tr> <tr> <td> <div class=api-entry id=api-suggestion-suburb><code>suburb</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>Suburb name.</p> <p>Examples:</p> <ul> <li>Angelino heights</li> <li>Harbor City</li> </ul> </td> </tr> <tr> <td> <div class=api-entry id=api-suggestion-latlng><code>latlng</code></div> <p>Type: <strong>Object</strong></p> </td> <td> <p>Latitude and longitude of the place found. Shape: <code>{lat: 48.797885, lng: 2.337034}</code>.</p> </td> </tr> <tr> <td> <div class=api-entry id=api-suggestion-postcode><code>postcode</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>The best matching postcode (or ZIP Code) of the place found.</p> <p>Examples:</p> <ul> <li>94104</li> <li>75009</li> </ul> </td> </tr> <tr> <td> <div class=api-entry id=api-suggestion-postcodes><code>postcodes</code></div> <p>Type: <strong>array</strong></p> </td> <td> <p>The list of all postcode (or ZIP Code) of the place found.</p> <p>Examples:</p> <ul> <li><code>["94102", "94103", "94104", ... ]</code></li> <li><code>["75008", "75009"]</code></li> </ul> </td> </tr> <tr> <td> <div class=api-entry id=api-suggestion-value><code>value</code></div> <p>Type: <strong>string</strong></p> </td> <td> <p>Full display name of the place found. It's the value displayed in the input.</p> <p>Examples:</p> <ul> <li>Paris Île-de-France, France</li> <li>589 Howard Street San Francisco, California, United States of America</li> </ul> </td> </tr> <tr> <td> <div class=api-entry id=api-suggestion-value><code>highlight</code></div> <p>Type: <strong>object</strong></p> </td> <td> <p>Given the query, contains the highlighted values of the following attributes:</p> <ul> <li>name</li> <li>suburb</li> <li>city</li> <li>postcode</li> <li>county</li> <li>administrative</li> <li>country</li> </ul> <p>Example:</p> <div class=highlight><pre class="codehilite javascript"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class=rouge-code><pre><span class="c1">// query was `par`</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">suggestion</span><span class="p">.</span><span class="nx">highlight</span><span class="p">);</span>
<span class="c1">// {</span>
<span class="c1">//   name: '&lt;em&gt;Par&lt;/em&gt;is',</span>
<span class="c1">//   administrative: 'Île-de-France',</span>
<span class="c1">//   country: 'France'</span>
<span class="c1">// }</span>
</pre></td></tr></tbody></table></code></pre></div> </td> </tr> </tbody> </table> <h2 id=integrations>Integrations</h2> <p>On top of the regular <strong>places</strong> component, the places.js library offers additional integrations with autocomplete.js and InstantSearch.js.</p> <h3 id=autocompletejs>autocomplete.js</h3> <p>The places.js library is leveraging <a href="https://github.com/algolia/autocomplete.js">Algolia's autocomplete.js</a> library.</p> <p>To be able to combine your own data along with showing results of Algolia Places, we provide an <a href="https://github.com/algolia/autocomplete.js#datasets">autocomplete.js dataset</a>:</p> <div class=highlight><pre class="codehilite html"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/npm/places.js@1.19.0/dist/cdn/placesAutocompleteDataset.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></td></tr></tbody></table></code></pre></div> <p>The autocomplete.js dataset is exported as <code>placesAutocompleteDataset</code> in the window, also available with npm using:</p> <div class=highlight><pre class="codehilite javascript"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre><span class="k">import</span> <span class="nx">placesAutocompleteDataset</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">places.js/placesAutocompleteDataset</span><span class="dl">'</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div> <p>All the places.js <a href="#options">options</a> are available and can be passed to the <code>placesAutocompleteDataset</code> function. The places.js CSS file is automatically loaded so that the rendering of suggestions is already the one you will expect.</p> <p>You will need an <a href="https://www.algolia.com/">Algolia account</a> to be able to search into your own data. See the <a href="examples.html#autocompletejs">autocomplete.js dataset example</a>.</p> <h3 id=instantsearchjs>InstantSearch.js</h3> <p>If you're already using instantsearch.js, you can use Algolia Places out of the box. This<br/> widget will do a search of places using Algolia Places and when an address is selected, it<br/> will update the geolocation point of the instantsearch.js search.</p> <p><strong>Important:</strong> With the release of InstantSearch.JS v4, the places widget has been re-worked and is now living in the InstantSearch repository. You can find an example of how to setup the widget in the <a href="https://github.com/algolia/instantsearch.js/blob/master/stories/geo-search.stories.js">geo-search story</a> of the <a href="https://github.com/algolia/instantsearch.js">InstantSearch repository</a></p> <p>If you are using InstantSearch v3, you can rely on the example below.</p> <p>You can include it using a link tag:</p> <div class=highlight><pre class="codehilite html"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/npm/places.js@1.19.0/dist/cdn/placesInstantsearchWidget.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></td></tr></tbody></table></code></pre></div> <p>The widget is exported as <code>placesInstantsearchWidget</code> in the window. It is also available with<br/> npm using:</p> <div class=highlight><pre class="codehilite javascript"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre><span class="k">import</span> <span class="nx">widget</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">places.js/placesInstantsearchWidget</span><span class="dl">'</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div> <p>The widget accept the same <a href="#options">options as places.js</a>. Because it is an instantsearch.js that<br/> will have an impact on the instantsearch search, it contains other options:</p> <table class=api> <thead><tr> <th>Option</th> <th>Description</th> </tr></thead> <tbody> <tr> <td> <div class=api-entry id=api-options-instantsearch-default-position><code>defaultPosition</code></div> <p>Type: <strong>number[]</strong></p> </td> <td> <p>Sets the default position around which the instantsearch search is done, when no element is selected in the places widget. This position is an array of two numbers, representing the latitude and the longitude.</p> </td> </tr> </tbody> </table> <h2 id=security>Security</h2> <p>The default way of using Places is to pass your Places application ID and API Key to the Places library.<br/> However, since the Places library is user-facing, this means that your credentials can be exposed.</p> <p>It is therefore recommended to put in place some extra limitations in order to prevent any abuse of your API Key. Algolia offers two solutions to restrict the usage of your API Keys, which can be combined together:</p> <ul> <li><a href="#restricted-api-keys">restricted API Keys</a></li> <li><a href="#secured-api-keys">secured API Keys</a></li> </ul> <p>Note: <em>This section will not go in extreme details about the concepts that are presented as they are explained in great lengths in the <a href="https://www.algolia.com/doc/guides/security/api-keys/">official Algolia documentation</a>.</em></p> <h3 id=restricted-api-keys>Restricted API Keys</h3> <p>In Places like in any other Algolia application, you can set up authorizations and restrictions with a great level of precision when creating API keys. It’s common to combine these rules to make it very hard to use a public API key to crawl your data.</p> <p>You can read more about <a href="https://www.algolia.com/doc/guides/security/api-keys/?language=javascript#api-key-restrictions">creating restricted API Keys</a> in the official Algolia documentation.</p> <p>For instance, for Places, it is common practice to have a restricted API Key with the following restrictions:</p> <ul> <li>Rate limiting per IP</li> <li>Restricting the HTTP Referer to your website (<a href="https://www.algolia.com/doc/guides/security/best-security-practices/?language=javascript#http-referers-restrictions">Read about the limitations</a>)</li> </ul> <p>Designing such an API Key will protect your API Key from being used by other website, while partially mitigating attacks from other tools without having to implement an advanced security system or having to route your calls through your backend for validation, which would increase the latency of each query.</p> <h3 id=secured-api-keys>Secured API Keys</h3> <p>If you want to have strong control on who accesses Places with your API Key, you can use <a href="https://www.algolia.com/doc/guides/security/api-keys/?language=javascript#generating-secured-api-keys">secured API Keys</a>. This will require a back-end implementation of the secured API Key generation.</p> <p>For instance, for Places, you can create short-lived API Keys for every single user based on your own metrics, using secured API Keys.</p> <p>There is a great tutorial on <a href="https://www.algolia.com/doc/guides/security/api-keys/how-to/how-to-restrict-the-search-to-a-subset-of-records-belonging-to-a-specific-user/#introduction">how to use secured API Keys</a> in the official documentation of Algolia.</p> <h2 id=styling>Styling</h2> <p>Algolia Places can fit existing designs. By default only the dropdown has a default light style.</p> <p>See our <a href="examples.html#input-styling">styling example</a>.</p> <h3 id=html-structure>HTML structure</h3> <p>The overall html structure looks like this:</p> <div class=highlight><pre class="codehilite html"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class=rouge-code><pre><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"algolia-places"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">class=</span><span class="s">"ap-input"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">class=</span><span class="s">"ap-input-icon ap-icon-clear"</span><span class="nt">&gt;&lt;svg&gt;&lt;/svg&gt;&lt;/button&gt;</span>
  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">class=</span><span class="s">"ap-input-icon ap-icon-pin"</span><span class="nt">&gt;&lt;svg&gt;&lt;/svg&gt;&lt;/button&gt;</span>
<span class="nt">&lt;/span&gt;</span>
</pre></td></tr></tbody></table></code></pre></div> <p>Then the dropdown html structure looks like this:</p> <div class=highlight><pre class="codehilite html"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class=rouge-code><pre><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"ap-dropdown-menu"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"ap-suggestions"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"ap-suggestion"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"ap-suggestion-icon"</span><span class="nt">&gt;&lt;svg&gt;&lt;/svg&gt;&lt;/span&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"ap-name"</span><span class="nt">&gt;&lt;/span&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"ap-address"</span><span class="nt">&gt;&lt;/span&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
      <span class="c">&lt;!-- Other suggestions --&gt;</span>
    <span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/span&gt;</span>
</pre></td></tr></tbody></table></code></pre></div> <h3 id=css-classes>CSS classes</h3> <p>Here's a visual explanation of the different CSS classes:</p> <div class="preview-holder no-mobile"> <img alt=preview-places id=visual-helper src="images/visual-preview-places-f0316f09.png"/> <div class=overlay> <div class=ov-input data-mention=".ap-input"></div> <div class=ov-cancel data-mention=".ap-icon-[clear/pin]"></div> <div class=ov-suggestions data-mention=".ap-dropdown-menu"> <div class=ov-suggestion-cursor data-mention=".ap-suggestion.ap-cursor (on hover)"></div> <div class=ov-suggestion data-mention=".ap-suggestion"> <div class=ov-icon data-mention=".ap-suggestion-icon"></div> <div class=ov-name data-mention=".ap-name"></div> <div class=ov-highlight data-mention="&lt;em&gt;"></div> <div class=ov-address data-mention=".ap-address"></div> </div> </div> </div> </div> <div class="preview-holder display-on-small"> <img alt=preview-places id=visual-helper src="images/visual-preview-places_mobile-88637462.png"/> </div> <table class=api> <thead> <tr> <th>CSS Class</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <div class="css-class api-entry" id=css-class-ap-input> <code>.ap-input</code> </div> </td> <td> <p>This class is the one use by the main places input</p> </td> </tr> <tr> <td> <div class="css-class api-entry" id=css-class-ap-icon-pin> <code>.ap-icon-pin</code> </div> </td> <td> <p>This is the class attached to the pin icon, which is visible when the input is on it's normal state</p> </td> </tr> <tr> <td> <div class="css-class api-entry" id=css-class-ap-icon-clear> <code>.ap-icon-clear</code> </div> </td> <td> <p>This is the class attached to the clear icon, which is visible when the input is filled, clicking it will empty the input</p> </td> </tr> <tr> <td> <div class="css-class api-entry" id=css-class-ap-dropdown-menu> <code>.ap-dropdown-menu</code> </div> </td> <td> <p>This class is the one that is on the whole suggestions wrapper</p> </td> </tr> <tr> <td> <div class="css-class api-entry" id=css-class-ap-suggestion> <code>.ap-suggestion</code> </div> </td> <td> <p>The .ap-suggestion class is the class of each dropdown suggestions</p> </td> </tr> <tr> <td> <div class="css-class api-entry" id=css-class-ap-cursor> <code>.ap-cursor</code> </div> </td> <td> <p>The .ap-cursor class is added to .ap-suggestion when the suggestion is hovered</p> </td> </tr> <tr> <td> <div class="css-class api-entry" id=css-class-ap-suggestion-icon> <code>.ap-suggestion-icon</code> </div> </td> <td> <p>The .ap-suggestion-icon is the class that is used on the left icon of each suggestions</p> </td> </tr> <tr> <td> <div class="css-class api-entry" id=css-class-ap-name> <code>.ap-name</code> </div> </td> <td> <p>The .ap-name class is the one used on the <strong>name</strong> of the place</p> </td> </tr> <tr> <td> <div class="css-class api-entry" id=css-class-ap-address> <code>.ap-address</code> </div> </td> <td> <p>The .ap-address class is the one used on the <strong>address</strong> of the place</p> </td> </tr> <tr> <td> <div class="css-class api-entry" id=css-class-em> <code> &lt;em&gt;</code> </div> </td> <td> <p>The &lt;em&gt; tag in the .ap-suggestion is the tag that is used to make an highlight on each names</p> </td> </tr> </tbody> </table> <p>Here's a default empty CSS file you can copy paste to tune the default styling:</p> <div class=highlight><pre class="codehilite css"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
</pre></td><td class=rouge-code><pre><span class="c">/* Main input wrapper */</span>
<span class="nc">.algolia-places</span> <span class="p">{}</span>

<span class="c">/* The algolia-places input */</span>
<span class="nc">.ap-input</span><span class="o">,</span> <span class="nc">.ap-hint</span> <span class="p">{}</span>

<span class="c">/* The style of the svg icons when the input is on hover */</span>
<span class="nc">.ap-input</span><span class="nd">:hover</span> <span class="o">~</span> <span class="nc">.ap-input-icon</span> <span class="nt">svg</span><span class="o">,</span>
<span class="nc">.ap-input</span><span class="nd">:focus</span> <span class="o">~</span> <span class="nc">.ap-input-icon</span> <span class="nt">svg</span><span class="o">,</span>
<span class="nc">.ap-input-icon</span><span class="nd">:hover</span> <span class="nt">svg</span> <span class="p">{}</span>

<span class="c">/* The dropdown style */</span>
<span class="nc">.ap-dropdown-menu</span> <span class="p">{}</span>

<span class="c">/* The suggestions style */</span>
<span class="nc">.ap-suggestion</span> <span class="p">{}</span>

<span class="c">/* The highlighted names style */</span>
<span class="nc">.ap-suggestion</span> <span class="nt">em</span> <span class="p">{}</span>

<span class="c">/* The addresses style */</span>
<span class="nc">.ap-address</span> <span class="p">{}</span>

<span class="c">/* The icons of each suggestions ( can be a building or a pin ) */</span>
<span class="nc">.ap-suggestion-icon</span> <span class="p">{}</span>

<span class="c">/* The style of the svg inside the .ap-suggestion-icon */</span>
<span class="nc">.ap-suggestion-icon</span> <span class="nt">svg</span> <span class="p">{}</span>

<span class="c">/* The icons inside the input ( can be a pin or a cross ) */</span>
<span class="nc">.ap-input-icon</span> <span class="p">{}</span>

<span class="c">/* The style of the svg inside the .ap-input-icon */</span>
<span class="nc">.ap-input-icon</span> <span class="nt">svg</span> <span class="p">{}</span>

<span class="c">/* .a-cursor is the class a suggestion go on hover */</span>
<span class="nc">.ap-cursor</span> <span class="p">{}</span>

<span class="c">/* The style of the svg icon, when the .ap-suggestion is on hover */</span>
<span class="nc">.ap-cursor</span> <span class="nc">.ap-suggestion-icon</span> <span class="nt">svg</span> <span class="p">{}</span>

<span class="c">/* The styles of the Algolia Places input footer */</span>
<span class="nc">.ap-footer</span> <span class="p">{}</span>

<span class="c">/* The styles of the Algolia Places input footer links */</span>
<span class="nc">.ap-footer</span> <span class="nt">a</span> <span class="p">{}</span>

<span class="c">/* The styles of the Algolia Places input footer svg icons */</span>
<span class="nc">.ap-footer</span> <span class="nt">a</span> <span class="nt">svg</span> <span class="p">{}</span>

<span class="c">/* The styles of the Algolia Places input footer on hover */</span>
<span class="nc">.ap-footer</span><span class="nd">:hover</span> <span class="p">{}</span>
</pre></td></tr></tbody></table></code></pre></div> <h3 id=disable-default-style>Disable default style</h3> <p>By default we insert some styling into your page. You can disable all the Algolia Places styling by passing the <code>style: false</code> option.</p> <p>Once you do so, all <a href="#css-classes">CSS classes</a> will be prefixed with <code>ap-nostyle</code> and no styling will be applied anymore.</p> <p>Pin and clear icons will still be shown and working, without being styled.</p> <h2 id=licenses--policies>Licenses &amp; Policies</h2> <p>You can display Algolia Places results on any map provider.</p> <p>In accordance with our <a href="https://www.algolia.com/policies/terms">terms of use</a>, you are required to comply with our <a href="https://www.algolia.com/policies/acceptable-use">Acceptable Use Policy</a>.</p> <p>If your application uses <a href="https://github.com/algolia/places">places.js</a> library, then the Algolia logo must be included and must not be altered (size, colors, position, linked URL, etc.). If your application uses the Places API directly or any other API client, you must show a "Search by Algolia" logo next to the data. You can find the logo in <a href="https://www.algolia.com/press/?section=brand-guidelines">SVG format here</a>.</p> <p>The places.js <a href="https://github.com/algolia/places/blob/master/LICENSE">is licensed</a> under <a href="https://en.wikipedia.org/wiki/MIT_License">MIT</a>.</p> <p>Address data is produced regularly processing different datasets such as:</p> <p><a href="https://www.openstreetmap.org/">© OpenStreetMap</a> using the <a href="https://wiki.openstreetmap.org/wiki/Planet.osm">Planet.osm</a> dataset under the <a href="https://opendatacommons.org/licenses/odbl/1.0/">Open Database License (ODbL) v1.0</a>.</p> <p><a href="https://www.geonames.org/">© GeoNames</a> database under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 License</a>.</p> <p><a href="https://adresse.data.gouv.fr/">BAN</a> dataset for France under <a href="https://opendatacommons.org/licenses/odbl/1.0/">ODbL v1.0</a>.</p> <p><a href="http://professionnels.ign.fr/adminexpress">IGN Admin Express</a> dataset under the <a href="https://www.etalab.gouv.fr/wp-content/uploads/2014/05/Licence_Ouverte.pdf">Open License 1.0</a>.</p> <h2 id=browser-support>Browser support</h2> <p>Algolia Places comes with native support for all latest stable versions of current major browsers: Chrome, Firefox, Edge, Opera and Safari. Previous versions of those modern browsers should also work. But since those are auto-updating browsers, we do not guarantee it.</p> <p>Algolia Places also works natively on Internet Explorer 11 and 10.</p> <p>To support Internet Explorer 9, you need to include a polyfill for <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/classList">Element.classList</a>. To do so, you can use the <a href="https://cdn.polyfill.io/v2/docs/">Polyfill.io service</a>.</p> <h2 id=examples>Examples</h2> <p>Have a look at our <a href="examples.html">examples page</a>.</p> </div> </div> </section> <script src="js/documentation-layout-57097802.js"></script> <section class=ac-footer> <div class=ac-footer-container> <p class=ac-footer-links> Code licensed under <a class=ac-footer-link-item href='https://github.com/algolia/places/blob/master/LICENSE'>MIT</a> <br> <a class=ac-footer-link-item href='https://github.com/algolia/places/'>Github</a> <a class=ac-footer-link-item href='https://github.com/algolia/places/issues'>Issues</a> <a class=ac-footer-link-item href='https://www.algolia.com/policies/privacy'>Privacy policy</a> </p> </div> <div class='ac-footer-container ac-footer-brand'> <p>This project is part of</p> <img class=ac-footer-brand-icon src='images/svg/community-badge-271b6a52.svg'> <figure> <img class=ac-footer-brand-logo src='https://res.cloudinary.com/hilnmyskv/image/upload/v1484219849/algolia-community-logo-words-darkbg.svg'> <figcaption>Algolia Community</figcaption> </figure> <a class='ac-footer-btn ac-footer-btn-cta' href='https://community.algolia.com/'>See More</a> <span class='ac-icon ac-icon-love-dark'></span> </div> <p class=ac-footer-version>Latest version: 1.19.0</p> <div class=ac-footer-actions> <div class=footer-container> <p>Build unique search experiences with Algolia</p> <a class='ac-footer-btn ac-footer-btn-ghost-grey' href='https://www.algolia.com/why?utm_medium=social-owned&amp;utm_source=places%20website&amp;utm_campaign=homepage&amp;utm_term=why'> See Why <span class=ac-icon-triangle></span> </a> </div> </div> </section> <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-N8JP8G" height=0 width=0 style="display:none;visibility:hidden"></iframe></noscript> <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N8JP8G');</script> <script src="js/common-7302ebba.js"></script> </body> </html>